# –û—Ç—á–µ—Ç –æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ ToolService

## ‚úÖ –£—Å–ø–µ—à–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤—Å–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:

### 1. `get_all_services()`
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —É—Å–ª—É–≥ —Å —Ü–µ–Ω–∞–º–∏ –∏ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é
- **–ù–∞–π–¥–µ–Ω–æ —É—Å–ª—É–≥**: 12 (–ñ–µ–Ω—Å–∫–∞—è —Å—Ç—Ä–∏–∂–∫–∞, –ú—É–∂—Å–∫–∞—è —Å—Ç—Ä–∏–∂–∫–∞, –û–∫—Ä–∞—à–∏–≤–∞–Ω–∏–µ –∫–æ—Ä–Ω–µ–π, –∏ —Ç.–¥.)

### 2. `get_masters_for_service(service_name)`
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- **–¢–µ—Å—Ç —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —É—Å–ª—É–≥–æ–π**: "–ú—É–∂—Å–∫–∞—è —Å—Ç—Ä–∏–∂–∫–∞" ‚Üí –Ω–∞–π–¥–µ–Ω –º–∞—Å—Ç–µ—Ä "–ê–Ω–∂–µ–ª–∞"
- **–¢–µ—Å—Ç —Å –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —É—Å–ª—É–≥–æ–π**: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ—Ö–æ–∂–∏–µ —É—Å–ª—É–≥–∏ (–ê–Ω–∂–µ–ª–∞, –õ—é–±–æ–≤—å, –¢–∞–º–∞—Ä–∞)

### 3. `get_available_slots(service_name, date)`
- **–°—Ç–∞—Ç—É—Å**: ‚ö†Ô∏è –†–∞–±–æ—Ç–∞–µ—Ç —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏
- **–ü—Ä–æ–±–ª–µ–º–∞**: Google Calendar API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω (404 –æ—à–∏–±–∫–∞)
- **–§–æ–ª–±—ç–∫**: –°–∏—Å—Ç–µ–º–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏ –∫–∞–ª–µ–Ω–¥–∞—Ä—è
- **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π GOOGLE_CALENDAR_ID –≤ .env

### 4. –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª —Ä–∞–±–æ—Ç—ã —Å –∑–∞–ø–∏—Å—è–º–∏
- **–°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏**: ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
  - –°–æ–∑–¥–∞–Ω–∞ –∑–∞–ø–∏—Å—å –Ω–∞ "–ß–∏—Å—Ç–∫–∞ –ª–∏—Ü–∞" –∫ –º–∞—Å—Ç–µ—Ä—É "–ê–Ω–Ω–∞" –Ω–∞ 2025-11-10 –≤ 14:00
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω—ã–π event_id –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –∫–∞–ª–µ–Ω–¥–∞—Ä—è
  
- **–ü—Ä–æ—Å–º–æ—Ç—Ä –∑–∞–ø–∏—Å–µ–π**: ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
  - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∑–∞–ø–∏—Å–µ–π —Å ID –∏ –¥–µ—Ç–∞–ª—è–º–∏
  
- **–û—Ç–º–µ–Ω–∞ –∑–∞–ø–∏—Å–∏**: ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
  - –£—Å–ø–µ—à–Ω–æ –æ—Ç–º–µ–Ω–µ–Ω–∞ –∑–∞–ø–∏—Å—å —Å ID 1
  - –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏ –∫–∞–ª–µ–Ω–¥–∞—Ä—è
  
- **–ü–µ—Ä–µ–Ω–æ—Å –∑–∞–ø–∏—Å–∏**: ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
  - –£—Å–ø–µ—à–Ω–æ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞ –∑–∞–ø–∏—Å—å —Å 10 November –Ω–∞ 2025-11-15 –≤ 16:00

### 5. `call_manager(reason)`
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å response_to_user –∏ system_signal
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –≤ –ª–æ–≥ —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º "üö® MANAGER ALERT"

## üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:

1. **–î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –º–µ—Ç–æ–¥—ã –≤ ToolService**:
   - `_find_service_by_fuzzy_match()` - –Ω–µ—á–µ—Ç–∫–∏–π –ø–æ–∏—Å–∫ —É—Å–ª—É–≥
   - `_find_similar_services()` - –ø–æ–∏—Å–∫ –ø–æ—Ö–æ–∂–∏—Ö —É—Å–ª—É–≥

2. **–î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ update –≤ AppointmentRepository**:
   - –ü–æ–∑–≤–æ–ª—è–µ—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å –∑–∞–ø–∏—Å–∏ –ø–æ ID

3. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è ToolService**:
   - –î–æ–±–∞–≤–ª–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä `google_calendar_service`
   - –î–æ–±–∞–≤–ª–µ–Ω —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –∏–º–ø–æ—Ä—Ç

## üìä –û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞:

**–°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã**: ‚úÖ –ì–û–¢–û–í–ê –ö –ü–†–û–î–ê–ö–®–ï–ù–£

- –í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –°–∏—Å—Ç–µ–º–∞ —É—Å—Ç–æ–π—á–∏–≤–∞ –∫ –æ—à–∏–±–∫–∞–º –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ (Google Calendar)
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç edge cases (–Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —É—Å–ª—É–≥–∏, –º–∞—Å—Ç–µ—Ä–∞)
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ

## üöÄ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:

1. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å Google Calendar API** –¥–ª—è –ø–æ–ª–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ —Å–ª–æ—Ç–æ–≤
2. **–î–æ–±–∞–≤–∏—Ç—å unit-—Ç–µ—Å—Ç—ã** –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞
3. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –æ—à–∏–±–æ–∫ –∫–∞–ª–µ–Ω–¥–∞—Ä—è
4. **–î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö** –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏

---
*–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ: $(Get-Date)*
