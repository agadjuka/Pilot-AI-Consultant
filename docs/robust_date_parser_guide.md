"""
Документация по надежному парсеру дат.

Этот модуль заменяет старый date_parser.py и обеспечивает максимальную надежность
парсинга дат, включая обработку ошибок нейронки.
"""

# Основные улучшения:
# 1. Множественные стратегии парсинга с fallback
# 2. Поддержка русских форматов с днями недели
# 3. Обработка относительных дат (завтра, послезавтра)
# 4. Нечеткий поиск и исправление ошибок
# 5. Подробное логирование процесса парсинга

# Использование:
from app.utils.robust_date_parser import parse_date_robust, parse_date_with_metadata

# Простой парсинг
date_str = "Пятница, 17.10.2025"
result = parse_date_robust(date_str)  # "2025-10-17"

# Парсинг с метаданными для отладки
result, metadata = parse_date_with_metadata(date_str)
print(f"Результат: {result}")
print(f"Метод: {metadata['method_used']}")
print(f"Попытки: {metadata['attempts']}")

# Поддерживаемые форматы:
# - "Пятница, 17.10.2025" (проблемный случай из логов)
# - "17.10.2025"
# - "2025-10-17"
# - "17 октября 2025"
# - "завтра"
# - "послезавтра"
# - "сегодня"
# - И многие другие...

# Интеграция в систему:
# Заменили parse_date_string на parse_date_robust в tool_service.py
# Старый парсер остался для обратной совместимости
